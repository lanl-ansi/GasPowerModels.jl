<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Network Formulations · GasPowerModels</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">GasPowerModels</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Manual</span><ul><li><a class="tocitem" href="../quickguide/">Getting Started</a></li><li><a class="tocitem" href="../network-data/">Network Data Format</a></li><li><a class="tocitem" href="../result-data/">Result Data Format</a></li><li><a class="tocitem" href="../math-model/">Mathematical Model</a></li></ul></li><li><span class="tocitem">Library</span><ul><li class="is-active"><a class="tocitem" href>Network Formulations</a><ul class="internal"><li class="toplevel"><a class="tocitem" href="#GasPowerModels-Types"><span>GasPowerModels Types</span></a></li><li><a class="tocitem" href="#Type-Hierarchy"><span>Type Hierarchy</span></a></li></ul></li><li><a class="tocitem" href="../specifications/">Problem Specifications</a></li><li><input class="collapse-toggle" id="menuitem-3-3" type="checkbox"/><label class="tocitem" for="menuitem-3-3"><span class="docs-label">Modeling Components</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../objective/">Objective</a></li><li><a class="tocitem" href="../variables/">Variables</a></li><li><a class="tocitem" href="../constraints/">Constraints</a></li></ul></li><li><a class="tocitem" href="../parser/">File IO</a></li></ul></li><li><a class="tocitem" href="../developer/">Developer</a></li><li><a class="tocitem" href="../examples/">Examples</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Library</a></li><li class="is-active"><a href>Network Formulations</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Network Formulations</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/lanl-ansi/GasPowerModels.jl/blob/master/docs/src/formulations.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Network-Formulations"><a class="docs-heading-anchor" href="#Network-Formulations">Network Formulations</a><a id="Network-Formulations-1"></a><a class="docs-heading-anchor-permalink" href="#Network-Formulations" title="Permalink"></a></h1><p>The network formulations for joint gas-power modeling use the formulations defined in GasModels.jl and PowerModels.jl.</p><h1 id="GasPowerModels-Types"><a class="docs-heading-anchor" href="#GasPowerModels-Types">GasPowerModels Types</a><a id="GasPowerModels-Types-1"></a><a class="docs-heading-anchor-permalink" href="#GasPowerModels-Types" title="Permalink"></a></h1><p>Specification of a <code>GasPowerModel</code> requires the specification of both a <code>GasModels.AbstractGasModel</code> and a <code>PowerModels.AbstractPowerModel</code>, respectively. For example, to specify a formulation that leverages the <code>CRDWPGasModel</code> and <code>SOCWRPowerModel</code> types, the corresponding <code>GasPowerModel</code> type would be</p><pre><code class="language-julia hljs">GasPowerModel{CRDWPGasModel, SOCWRPowerModel}</code></pre><p>GasPowerModels then utilizes the following (internal) function to construct a <code>GasPowerModel</code> object:</p><article class="docstring"><header><a class="docstring-binding" id="GasPowerModels.instantiate_model" href="#GasPowerModels.instantiate_model"><code>GasPowerModels.instantiate_model</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">instantiate_model(g_file, p_file, link_file, model_type, build_method; kwargs...)

Instantiates and returns a GasPowerModels modeling object from gas and power input
files `g_file` and `p_file`. Additionally, `link_file` is an input file that links
gas and power networks, `model_type` is the gas-power modeling type, and
`build_method` is the build method for the problem specification being considered.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lanl-ansi/GasPowerModels.jl/blob/33338a0728002cb5566e4ddcacf6d7086e99b262/src/core/base.jl#L14-L21">source</a></section></article><h2 id="Type-Hierarchy"><a class="docs-heading-anchor" href="#Type-Hierarchy">Type Hierarchy</a><a id="Type-Hierarchy-1"></a><a class="docs-heading-anchor-permalink" href="#Type-Hierarchy" title="Permalink"></a></h2><p>GasPowerModels inherits the type hierarchies of GasModels and PowerModels. Constraint and objective functions are then dispatched based on the choice of types for each of the models. An example is seen in the function</p><article class="docstring"><header><a class="docstring-binding" id="GasPowerModels.constraint_heat_rate" href="#GasPowerModels.constraint_heat_rate"><code>GasPowerModels.constraint_heat_rate</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Constraint for coupling the production of power at natural gas generators with the gas consumption required to produce this power. The full nonconvex constraint is stated as</p><p class="math-container">\[fl = e \rho \sum_{i \in \Gamma} (h_{i}^{0} pg_{i}^2 + h_{i}^{1} pg_{i} + h_{i}^{2}),\]</p><p>where <span>$h$</span> is a quadratic function used to convert MW (<span>$pg$</span>) into Joules consumed per second (J/s). <span>$h$</span> is in units of (J/MW^2, J/MW, J). This is then converted to mass flow, <span>$fl$</span>, (kg/s) of gas consumed to produce this energy. Here, <span>$e$</span> is an energy factor (m^3/J) and <span>$\rho$</span> is standard density (kg/m^3). This constraint can be relaxed to a convex quadratic of the form</p><p class="math-container">\[fl \geq e \rho \sum_{i \in \Gamma} (h_{i}^{0} pg_{i}^2 + h_{i}^{1} pg_{i} + h_{i}^{2}),\]</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lanl-ansi/GasPowerModels.jl/blob/33338a0728002cb5566e4ddcacf6d7086e99b262/src/core/constraint_template.jl#L12-L28">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GasPowerModels.constraint_heat_rate_on_off" href="#GasPowerModels.constraint_heat_rate_on_off"><code>GasPowerModels.constraint_heat_rate_on_off</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Constraint for coupling the production of power at dispatchable natural gas generators with the gas consumption required to produce this power. The full nonconvex constraint is stated as</p><p class="math-container">\[fl = e \rho \sum_{i \in \Gamma} (h_{i}^{0} pg_{i}^2 + h_{i}^{1} pg_{i} + h_{i}^{2} z_{i}),\]</p><p>where <span>$h$</span> is a quadratic function used to convert MW (<span>$pg$</span>) into Joules consumed per second (J/s). <span>$h$</span> is in units of (J/MW^2, J/MW, J). This is then converted to mass flow, <span>$fl$</span>, (kg/s) of gas consumed to produce this energy. Here, <span>$e$</span> is an energy factor (m^3/J) and <span>$\rho$</span> is standard density (kg/m^3). <span>$z$</span> is a discrete variable indicating the status of the generator. This constraint can be relaxed to a convex quadratic of the form</p><p class="math-container">\[fl \geq e \rho \sum_{i \in \Gamma} (h_{i}^{0} pg_{i}^2 + h_{i}^{1} pg_{i} + h_{i}^{2} z_{i}),\]</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lanl-ansi/GasPowerModels.jl/blob/33338a0728002cb5566e4ddcacf6d7086e99b262/src/core/constraint_template.jl#L61-L79">source</a></section></article><p>The convention is that, if a relaxation or approximation of a nonconvex constraint is used in a natural gas and/or electric power model, the linking constraint will also be similarly relaxed or approximated according to the most &quot;complex&quot; independent infrastructure modeling formulation. For example, if the natural gas formulation uses a linear representation, and the electric power model uses a quadratic representation, then the linking constraint uses the tightest possible relaxation using linear and quadratic interdependency equations.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../math-model/">« Mathematical Model</a><a class="docs-footer-nextpage" href="../specifications/">Problem Specifications »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Friday 2 February 2024 00:00">Friday 2 February 2024</span>. Using Julia version 1.10.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
